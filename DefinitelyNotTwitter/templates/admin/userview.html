{% extends 'base.html' %}

{% block content %}
  <table class="table table-hover">
    <tr>
      <th>ID</th>
      <th>Username</th>
      <th># follower</th>
      <th>Registered since</th>
      <th>Actions</th>
    </tr>
    {% for user in users %}
      <tr>
        <td>{{ user['id'] }}</td>
        <td><a href="{{ url_for('user.show_profile', id = user['id']) }}">{{ user['name'] }}</a></td>
        {% if user['follower'] != None %}
          <td>{{ user['follower'] }}</td>
        {% else %}
          <td>0</td>
        {% endif %}
        <td>{{ user['registered'] }}</td>
        <td>
          <a class="btn btn-primary" href="{{ url_for('admin.edit_user', id=user['id']) }}">Edit</a>
          {% if user['restricted'] == 1 %}
            <a class="btn btn-warning" href="{{ url_for('admin.unrestrict', id = user['id']) }}">Unrestrict</a>
          {% else %}
            <a class="btn btn-warning" href="{{ url_for('admin.restrict', id = user['id']) }}">Restrict</a>
          {% endif %}
          {% if user['admin'] == 1 %}
            <a class="btn btn-success" href="{{ url_for('admin.strip', id = user['id']) }}">Strip</a>
          {% else %}
            <a class="btn btn-success" href="{{ url_for('admin.promote', id = user['id']) }}">Promote</a>
          {% endif %}
          <a class="btn btn-danger" href="{{ url_for('admin.delete', id = user['id']) }}">Delete</a>
        </td>
      </tr>
      {% endfor %}
  </table>
{% endblock %}
